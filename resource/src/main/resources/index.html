<script type="text/javascript"> 
var websocket; 
var uri = 'ws://localhost:8080/agent/server'; 
function connect() {
	if ('WebSocket' in window) {
		websocket = new WebSocket(uri); 
		} else if ('MozWebSocket' in window) { 
			websocket = new MozWebSocket(uri); 
		} else {
			alert('WebSocket is not supported by this browser.'); return; 
		} 
		websocket.onopen = function() {
			alert("Connected to server");
			send();
			//display('Connected to server.'); 
			}; 
		websocket.onclose = function() { 
			alert("DISCONNECT");
				//display('Disconnected from server'); 
			}; 
		websocket.onmessage = function(event) { 
			alert("server says :"+event.data);
					//display('server says :'+event.data); 
			}; 
		}
	function send() { 
		var msg = document.getElementById('msg').value; 
		alert("Im in sending msg="+msg);
		websocket.send(msg); 
		alert("aftert send");
		}
	
	connect();
</script>
<html>
<body>
This is test
<input type="text" value="hi hello" id="msg"/>
</body>
</html>